<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎉 Happy Birthday Khushi P. 🎂</title>
    
    <!-- Google Fonts for anime-style typography -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Comfortaa:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ===== CSS RESET AND BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
            background: linear-gradient(135deg, #ffeef8 0%, #f0e6ff 50%, #e6f3ff 100%);
            min-height: 100vh;
        }

        /* ===== ANIMATED BACKGROUND ===== */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .floating-element {
            position: absolute;
            animation: float 6s ease-in-out infinite;
        }

        .star {
            color: #ffd700;
            font-size: 20px;
            animation: twinkle 2s ease-in-out infinite alternate;
        }

        .heart {
            color: #ff69b4;
            font-size: 16px;
            animation: pulse 3s ease-in-out infinite;
        }

        .sakura-petal {
            width: 12px;
            height: 12px;
            background: #ffb6c1;
            border-radius: 50% 10% 50% 10%;
            animation: fall 8s linear infinite;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* ===== HERO SECTION ===== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            background: linear-gradient(135deg, rgba(255,182,193,0.1) 0%, rgba(221,160,221,0.1) 50%, rgba(173,216,230,0.1) 100%);
        }

        .hero h1 {
            font-family: 'Comfortaa', cursive;
            font-size: 3.5rem;
            font-weight: 700;
            color: #d63384;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            animation: bounce 2s ease-in-out infinite;
        }

        .hero .subtitle {
            font-size: 1.5rem;
            color: #8b5cf6;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        .shinchan-character {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ffeb3b, #ffc107);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            animation: float 3s ease-in-out infinite;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        /* ===== MUSIC PLAYER ===== */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .music-control {
            background: none;
            border: none;
            color: #d63384;
            cursor: pointer;
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.1);
        }

        .music-info {
            font-size: 0.9rem;
            color: #666;
            max-width: 150px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* ===== CONTAINER AND SECTIONS ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section {
            padding: 4rem 0;
            animation: fadeInUp 0.8s ease-out;
        }

        .section-title {
            font-family: 'Comfortaa', cursive;
            font-size: 2.5rem;
            font-weight: 600;
            color: #8b5cf6;
            text-align: center;
            margin-bottom: 3rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* ===== PERSONAL MESSAGE SECTION ===== */
        .message-section {
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .message-textarea {
            width: 100%;
            min-height: 200px;
            padding: 1.5rem;
            border: 2px solid #ffb6c1;
            border-radius: 15px;
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            line-height: 1.6;
            background: rgba(255,240,245,0.5);
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .message-textarea:focus {
            outline: none;
            border-color: #d63384;
            box-shadow: 0 0 0 3px rgba(214,51,132,0.1);
        }

        /* ===== PHOTO GALLERY ===== */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .gallery-item {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: white;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 1rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        /* ===== QUOTE CAROUSEL ===== */
        .quote-carousel {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .quote-container {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            position: relative;
        }

        .quote-text {
            font-family: 'Comfortaa', cursive;
            font-size: 1.5rem;
            font-weight: 500;
            color: #8b5cf6;
            margin-bottom: 1rem;
            line-height: 1.8;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .quote-author {
            font-size: 1.1rem;
            color: #d63384;
            font-weight: 600;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.3s forwards;
        }

        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .carousel-btn {
            background: linear-gradient(45deg, #d63384, #8b5cf6);
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .carousel-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .indicator.active {
            background: #d63384;
        }

        /* ===== DECORATIVE ELEMENTS ===== */
        .anime-decoration {
            position: absolute;
            font-size: 2rem;
            color: #ffb6c1;
            animation: float 4s ease-in-out infinite;
        }

        .sparkle {
            color: #ffd700;
            animation: twinkle 1.5s ease-in-out infinite alternate;
        }

        .cat-ears {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            color: #ffb6c1;
        }

        /* ===== FOOTER ===== */
        .footer {
            background: linear-gradient(135deg, #d63384, #8b5cf6);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 4rem;
        }

        .footer p {
            font-size: 1.2rem;
            font-weight: 500;
            animation: slideIn 1s ease-out;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero .subtitle {
                font-size: 1.2rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .message-section {
                padding: 2rem;
            }
            
            .quote-text {
                font-size: 1.2rem;
            }
            
            .shinchan-character {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            .music-player {
                bottom: 10px;
                right: 10px;
                padding: 8px 15px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }
            
            .hero {
                padding: 1rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .section {
                padding: 2rem 0;
            }
            
            .music-info {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-background" id="animatedBg">
        <!-- Floating elements will be dynamically added here -->
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="shinchan-character">
            😊
        </div>
        <h1>🎉 Happy Birthday Khushi P. 🎂</h1>
        <p class="subtitle">May your special day be filled with joy, laughter, and endless anime adventures!</p>
        <div class="anime-decoration sparkle" style="top: 20%; left: 10%;">✨</div>
        <div class="anime-decoration" style="top: 30%; right: 15%;">🌸</div>
        <div class="anime-decoration sparkle" style="bottom: 20%; left: 20%;">⭐</div>
        <div class="anime-decoration" style="bottom: 30%; right: 10%;">🎀</div>
    </section>

    <!-- Personal Message Section -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">💌 Personal Message</h2>
            <div class="message-section">
                <div class="cat-ears">🐱</div>
                <textarea class="message-textarea" placeholder="Click here to edit your personal message...">Dear Khushi,

On this special day, I want you to know how amazing you are! Your love for anime and your bright smile light up every room you enter. Just like your favorite Shinchan episodes, you bring joy and laughter to everyone around you.

May this new year of your life be filled with:
🌸 Beautiful moments like cherry blossoms in spring
⭐ Dreams that sparkle as bright as anime stars
💖 Love that's as pure as your favorite characters
🎉 Adventures that are more exciting than any manga

You deserve all the happiness in the world, and I'm so grateful to have you in my life. Here's to another year of being the incredible person you are!

Happy Birthday, KP! 🎂✨

With all the respect, support and best wishes! 💕
</textarea>
            </div>
        </div>
    </section>

    <!-- Shinchan Gallery -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">🎭 Shinchan Gallery</h2>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="attached_assets/cute.png" alt="Shinchan Cute Expression">
                    <div class="gallery-overlay">
                        <h3>Adorable Shinchan</h3>
                        <p>Classic cute expression</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/Energy.png" alt="Shinchan Shouting">
                    <div class="gallery-overlay">
                        <h3>Expressive Shinchan</h3>
                        <p>Full of energy and emotion</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/Happy.png" alt="Shinchan Thumbs Up">
                    <div class="gallery-overlay">
                        <h3>Happy Shinchan</h3>
                        <p>Cheerful and positive</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/34abfbab34d7f35aeb67528bca22b359_1752503815027.jpg" alt="Surprised Shinchan">
                    <div class="gallery-overlay">
                        <h3>Surprised Shinchan</h3>
                        <p>Cute surprised expression</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/surp.png" alt="Shinchan Surprised">
                    <div class="gallery-overlay">
                        <h3>Shinchan with Friends</h3>
                        <p>Fun times with pals</p>
                    </div>
            </div>
            <div class="gallery-item">
                <img src="attached_assets/sleep.jpeg" alt="Good Night Shinchan">
                <div class="gallery-overlay">
                    <h3>Good Night Shinchan</h3>
                    <p>Sweet dreams and peaceful nights</p>
            </div>
        </div>
    </section>

    <!-- Photo Gallery -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">🌸 Custom Anime Gallery by me</h2>
            <div class="gallery">
                <div class="gallery-item">
                    <img src="attached_assets/01.png" alt="Cute Anime Character">
                    <div class="gallery-overlay">
                        <h3>Book Reading Anime Style</h3>
                        <p>Sweet and cheerful vibes</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/02.png" alt="Anime Character Art">
                    <div class="gallery-overlay">
                        <h3>Colorful Anime Art</h3>
                        <p>Vibrant and full of life</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/03.png" alt="Anime Style Illustration">
                    <div class="gallery-overlay">
                        <h3>Magical Anime World</h3>
                        <p>Fantasy and wonder</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/04.png" alt="Cute Anime Design">
                    <div class="gallery-overlay">
                        <h3>Kawaii Anime Style</h3>
                        <p>Absolutely adorable</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/05.png" alt="Anime Character Portrait">
                    <div class="gallery-overlay">
                        <h3>Beautiful Anime Art</h3>
                        <p>Stunning character design</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/06.png" alt="Anime Style Character">
                    <div class="gallery-overlay">
                        <h3>Expressive Anime</h3>
                        <p>Full of personality</p>
                    </div>
                </div>
                <div class="gallery-item">
                    <img src="attached_assets/01_Female.png" alt="Anime Character Illustration">
                    <div class="gallery-overlay">
                        <h3>Charming Anime Character</h3>
                        <p>Captivating and unique</p>
                </div>
            </div>
            
        </div>
    </section>

    <!-- Quote Carousel -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">✨ Birthday Wishes</h2>
            <div class="quote-carousel">
                <div class="quote-container">
                    <div class="quote-text" id="quoteText">
                        "Happy Birthday! May your day be filled with intriguing mysteries and the quiet joy of solving them, just like a perfect deduction." "
                    </div>
                    <div class="quote-author" id="quoteAuthor">
                        - Inspired by Houtarou Oreki (Hyouka)
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn" onclick="prevQuote()">
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <button class="carousel-btn" onclick="nextQuote()">
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div class="carousel-indicators">
                    <span class="indicator active" onclick="currentQuote(0)"></span>
                    <span class="indicator" onclick="currentQuote(1)"></span>
                    <span class="indicator" onclick="currentQuote(2)"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Music Player -->
    <div class="music-player">
        <button class="music-control" id="playPauseBtn" onclick="toggleMusic()">
            <i class="fas fa-play"></i>
        </button>
        <div class="music-info">
            <div>Play Me</div>
        </div>
        <button class="music-control" onclick="changeVolume()">
            <i class="fas fa-volume-up" id="volumeIcon"></i>
        </button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>Made with ❤️ and ☕ by Tanish</p>
        </div>
    </footer>

    <!-- Audio element for background music -->
    <audio id="bgMusic" loop>
        <source src="attached_assets/rec1.mp3" type="audio/mp3">
        <!-- Shinchan themed background music -->
    </audio>

    <script>
        // ===== ANIMATED BACKGROUND ELEMENTS =====
        function createFloatingElements() {
            const background = document.getElementById('animatedBg');
            const elements = ['⭐', '✨', '🌸', '💖', '🎀', '🦋', '🌺', '💫'];
            
            // Create floating elements
            for (let i = 0; i < 20; i++) {
                const element = document.createElement('div');
                element.classList.add('floating-element');
                
                if (Math.random() > 0.6) {
                    element.classList.add('star');
                } else {
                    element.classList.add('heart');
                }
                
                element.innerHTML = elements[Math.floor(Math.random() * elements.length)];
                element.style.left = Math.random() * 100 + '%';
                element.style.top = Math.random() * 100 + '%';
                element.style.animationDelay = Math.random() * 6 + 's';
                element.style.animationDuration = (Math.random() * 3 + 4) + 's';
                
                background.appendChild(element);
            }
            
            // Create sakura petals
            for (let i = 0; i < 15; i++) {
                const petal = document.createElement('div');
                petal.classList.add('sakura-petal');
                petal.style.left = Math.random() * 100 + '%';
                petal.style.animationDelay = Math.random() * 8 + 's';
                petal.style.animationDuration = (Math.random() * 3 + 6) + 's';
                
                background.appendChild(petal);
            }
        }

        // ===== QUOTE CAROUSEL FUNCTIONALITY =====
        const quotes = [
            {
                text: "Happy Birthday! May your day be filled with intriguing mysteries and the quiet joy of solving them, just like a perfect deduction.",
                author: "- Inspired by Houtarou Oreki (Hyouka)"
            },
            {
                text: "To a truly strong soul, Happy Birthday! May your path always be clear, and your spirit burn brightly, protecting what you cherish most." ,
                author: "- Inspired by Tanjiro Kamado (Demon Slayer)"
            },
            {
                text: "Like Shinchan's endless energy, may your birthday bring you boundless joy and happiness!",
                author: "With Love and Anime Spirit"
            }
        ];

        let currentQuoteIndex = 0;

        function showQuote(index) {
            const quoteText = document.getElementById('quoteText');
            const quoteAuthor = document.getElementById('quoteAuthor');
            const indicators = document.querySelectorAll('.indicator');
            
            // Remove active class from all indicators
            indicators.forEach(indicator => indicator.classList.remove('active'));
            
            // Add active class to current indicator
            indicators[index].classList.add('active');
            
            // Update quote content with animation
            quoteText.style.opacity = '0';
            quoteAuthor.style.opacity = '0';
            
            setTimeout(() => {
                quoteText.textContent = quotes[index].text;
                quoteAuthor.textContent = '- ' + quotes[index].author;
                
                // Restart animations
                quoteText.style.animation = 'none';
                quoteAuthor.style.animation = 'none';
                
                setTimeout(() => {
                    quoteText.style.animation = 'fadeInUp 0.8s ease-out forwards';
                    quoteAuthor.style.animation = 'fadeInUp 0.8s ease-out 0.3s forwards';
                }, 10);
            }, 300);
        }

        function nextQuote() {
            currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
            showQuote(currentQuoteIndex);
        }

        function prevQuote() {
            currentQuoteIndex = (currentQuoteIndex - 1 + quotes.length) % quotes.length;
            showQuote(currentQuoteIndex);
        }

        function currentQuote(index) {
            currentQuoteIndex = index;
            showQuote(currentQuoteIndex);
        }

        // Auto-rotate quotes every 5 seconds
        setInterval(nextQuote, 5000);

        // ===== MUSIC PLAYER FUNCTIONALITY =====
        let isPlaying = false;
        let currentVolume = 0.5;
        const music = document.getElementById('bgMusic');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeIcon = document.getElementById('volumeIcon');

        // Set initial volume
        music.volume = currentVolume;

        function toggleMusic() {
            if (isPlaying) {
                music.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                isPlaying = false;
            } else {
                music.play().catch(e => {
                    console.log('Audio playback failed:', e);
                    // Fallback: Create a simple beep sound
                    createBeepSound();
                });
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                isPlaying = true;
            }
        }

        function changeVolume() {
            if (currentVolume > 0) {
                currentVolume = 0;
                volumeIcon.className = 'fas fa-volume-mute';
            } else {
                currentVolume = 0.5;
                volumeIcon.className = 'fas fa-volume-up';
            }
            music.volume = currentVolume;
        }

        // Fallback beep sound creation
        function createBeepSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        // ===== SCROLL ANIMATIONS =====
        function animateOnScroll() {
            const elements = document.querySelectorAll('.section, .gallery-item');
            
            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                if (elementTop < windowHeight - 100) {
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }
            });
        }

        // ===== SAKURA PETALS CONTINUOUS ANIMATION =====
        function createSakuraPetal() {
            const petal = document.createElement('div');
            petal.classList.add('sakura-petal');
            petal.style.left = Math.random() * 100 + '%';
            petal.style.animationDuration = (Math.random() * 3 + 6) + 's';
            
            document.getElementById('animatedBg').appendChild(petal);
            
            // Remove petal after animation
            setTimeout(() => {
                petal.remove();
            }, 9000);
        }

        // ===== INITIALIZE EVERYTHING =====
        document.addEventListener('DOMContentLoaded', function() {
            // Create floating background elements
            createFloatingElements();
            
            // Setup scroll animations
            window.addEventListener('scroll', animateOnScroll);
            
            // Initialize scroll animations
            animateOnScroll();
            
            // Create new sakura petals periodically
            setInterval(createSakuraPetal, 2000);
            
            // Setup music player error handling
            music.addEventListener('error', function() {
                console.log('Background music failed to load');
                // Hide music player if music fails to load
                document.querySelector('.music-player').style.display = 'none';
            });
            
            // Add click sound effects to buttons
            const buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    // Create a subtle click sound
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 1000;
                    oscillator.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                });
            });
        });

        // ===== RESPONSIVE TOUCH SUPPORT =====
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextQuote(); // Swipe left - next quote
                } else {
                    prevQuote(); // Swipe right - previous quote
                }
            }
        }

        // ===== PERFORMANCE OPTIMIZATION =====
        let ticking = false;

        function updateOnScroll() {
            if (!ticking) {
                requestAnimationFrame(animateOnScroll);
                ticking = true;
            }
        }

        // Replace the scroll event listener with optimized version
        window.addEventListener('scroll', function() {
            ticking = false;
            updateOnScroll();
        });
    </script>
</body>
</html>
